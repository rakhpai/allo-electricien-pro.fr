<!-- NAVBAR VARIANT 2: DUAL-LAYER AUTHORITY -->
<!-- Strategy: Build trust first with prominent stats, shrinks elegantly on scroll -->
<!-- Best for: Building authority, showcasing network size, desktop users -->

<!-- Top Bar (disappears on scroll) -->
<div id="top-bar-v2" class="top-bar-v2 bg-gradient-to-r from-primary to-blue-700 text-white py-2 transition-all duration-300">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between text-sm">
      <!-- Left: Network Stats -->
      <div class="hidden md:flex items-center gap-6">
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
          </svg>
          <span class="font-semibold">410 √âlectriciens Certifi√©s</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
          </svg>
          <span class="font-semibold">Disponible 24/7</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
          </svg>
          <span class="font-semibold">√éle-de-France & Oise</span>
        </div>
      </div>

      <!-- Mobile: Centered message -->
      <div class="md:hidden flex-1 text-center font-semibold">
        ‚ö° 410 √âlectriciens ‚Ä¢ 24/7 ‚Ä¢ Intervention &lt;30min
      </div>

      <!-- Right: Trust Badges -->
      <div class="flex items-center gap-2">
        <img src="/eleclogos/certifie_icon.svg" alt="Certifi√©" class="h-6 w-auto opacity-90 hover:opacity-100 transition">
        <img src="/eleclogos/247_icon.svg" alt="24/7" class="h-6 w-auto opacity-90 hover:opacity-100 transition">
      </div>
    </div>
  </div>
</div>

<!-- Main Navigation Bar -->
<nav id="main-nav-v2" class="navbar-v2 bg-white shadow-md sticky top-0 z-50 transition-all duration-300">
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center" aria-label="Allo √âlectricien - Accueil">
          <img id="logo-v2" src="/images/logo_1b.svg" alt="{{ .Site.Params.companyName }}" class="h-12 w-auto transition-all duration-300">
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-6">
        <!-- Main Links -->
        <a href="/#directory" class="nav-link-v2 text-gray-700 hover:text-primary transition-all duration-200 font-medium relative py-2">
          Annuaire
        </a>
        <a href="/#services" class="nav-link-v2 text-gray-700 hover:text-primary transition-all duration-200 font-medium relative py-2">
          Services
        </a>
        <a href="/#videos" class="nav-link-v2 text-gray-700 hover:text-primary transition-all duration-200 font-medium relative py-2">
          Vid√©os
        </a>
        <a href="/#coverage" class="nav-link-v2 text-gray-700 hover:text-primary transition-all duration-200 font-medium relative py-2">
          Zones
        </a>

        <!-- Secondary CTA Button -->
        <a href="/#directory"
           class="secondary-cta bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-2 px-5 rounded-lg transition-all duration-300 border border-gray-300">
          Trouver un √âlectricien
        </a>

        <!-- Primary CTA Button -->
        <a href="tel:{{ .Site.Params.mainPhoneRaw }}"
           class="primary-cta bg-emergency hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105">
          <svg class="w-5 h-5 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
          </svg>
          <span>{{ .Site.Params.mainPhone }}</span>
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <div class="lg:hidden">
        <button id="mobile-menu-button-v2"
                class="text-gray-700 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary rounded p-2"
                aria-label="Menu"
                aria-expanded="false">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Bottom Sheet Menu -->
<div id="mobile-menu-v2" class="mobile-sheet-v2 fixed inset-x-0 bottom-0 bg-white rounded-t-3xl shadow-2xl transform translate-y-full transition-transform duration-400 ease-out lg:hidden z-50 max-h-[85vh] overflow-y-auto">
  <!-- Handle Bar -->
  <div class="flex justify-center pt-3 pb-2">
    <div class="w-12 h-1 bg-gray-300 rounded-full"></div>
  </div>

  <!-- Menu Header -->
  <div class="px-6 py-4 border-b border-gray-100">
    <div class="flex items-center justify-between">
      <h3 class="text-lg font-bold text-gray-900">Navigation</h3>
      <button id="mobile-menu-close-v2" class="text-gray-500 hover:text-gray-700 p-2" aria-label="Fermer">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Quick Actions Grid -->
  <div class="px-6 py-4">
    <div class="grid grid-cols-2 gap-3 mb-4">
      <!-- Emergency Call -->
      <a href="tel:{{ .Site.Params.mainPhoneRaw }}"
         class="flex flex-col items-center p-4 bg-gradient-to-br from-emergency to-red-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 active:scale-95">
        <svg class="w-8 h-8 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
        </svg>
        <span class="text-sm font-bold">Urgence</span>
        <span class="text-xs opacity-90 mt-1">{{ .Site.Params.mainPhone }}</span>
      </a>

      <!-- Find Electrician -->
      <a href="/#directory"
         class="flex flex-col items-center p-4 bg-gradient-to-br from-primary to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 active:scale-95">
        <svg class="w-8 h-8 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
        <span class="text-sm font-bold">Trouver</span>
        <span class="text-xs opacity-90 mt-1">un √©lectricien</span>
      </a>
    </div>

    <!-- Navigation Links -->
    <div class="space-y-2">
      <a href="/#services" class="mobile-sheet-link flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-blue-100 text-primary rounded-lg flex items-center justify-center">
            üîß
          </div>
          <span class="font-semibold text-gray-900">Services</span>
        </div>
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>

      <a href="/#videos" class="mobile-sheet-link flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center">
            üé•
          </div>
          <span class="font-semibold text-gray-900">Vid√©os</span>
        </div>
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>

      <a href="/#coverage" class="mobile-sheet-link flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-green-100 text-green-600 rounded-lg flex items-center justify-center">
            üó∫Ô∏è
          </div>
          <span class="font-semibold text-gray-900">Zones</span>
        </div>
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>
    </div>

    <!-- Trust Info -->
    <div class="mt-6 p-4 bg-blue-50 rounded-xl">
      <div class="flex items-center justify-center gap-4 mb-3">
        <img src="/eleclogos/certifie_icon.svg" alt="Certifi√©" class="h-10 w-auto">
        <img src="/eleclogos/247_icon.svg" alt="24/7" class="h-10 w-auto">
      </div>
      <p class="text-center text-sm text-gray-700 font-medium">
        <strong class="text-primary">410 √©lectriciens certifi√©s</strong><br>
        Disponibles 24/7 ‚Ä¢ Intervention &lt;30min
      </p>
    </div>
  </div>
</div>

<!-- Mobile Overlay -->
<div id="mobile-overlay-v2" class="mobile-overlay-v2 fixed inset-0 bg-black bg-opacity-50 hidden lg:hidden z-40 transition-opacity duration-300"></div>

<!-- Variant 2 Specific Styles -->
<style>
  /* Top Bar Scroll Behavior */
  .top-bar-v2.scrolled {
    transform: translateY(-100%);
    opacity: 0;
  }

  /* Navbar Background Transition */
  .navbar-v2.transparent {
    background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,1));
    backdrop-filter: blur(10px);
  }

  /* Nav Link Underline Effect */
  .nav-link-v2::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #0066FF, #0052CC);
    transition: width 0.3s ease;
  }

  .nav-link-v2:hover::after {
    width: 100%;
  }

  /* Bottom Sheet Active State */
  .mobile-sheet-v2.active {
    transform: translateY(0);
  }

  .mobile-overlay-v2.active {
    display: block;
    animation: fadeIn 0.3s ease-out;
  }

  /* Mobile Sheet Link Animation */
  .mobile-sheet-link {
    animation: slideInUp 0.4s ease-out;
  }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* CTA Button Effects */
  .primary-cta {
    box-shadow: 0 4px 14px rgba(239, 68, 68, 0.3);
  }

  .primary-cta:hover {
    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
  }

  .secondary-cta:hover {
    transform: translateY(-2px);
  }
</style>

<!-- Variant 2 Specific JavaScript -->
<script>
  (function() {
    const topBar = document.getElementById('top-bar-v2');
    const mainNav = document.getElementById('main-nav-v2');
    const menuButton = document.getElementById('mobile-menu-button-v2');
    const mobileMenu = document.getElementById('mobile-menu-v2');
    const menuOverlay = document.getElementById('mobile-overlay-v2');
    const menuClose = document.getElementById('mobile-menu-close-v2');
    let lastScrollY = window.scrollY;

    // Scroll Behavior: Hide top bar, add transparency
    function handleScroll() {
      const currentScrollY = window.scrollY;

      if (currentScrollY > 50) {
        topBar?.classList.add('scrolled');
        mainNav?.classList.add('transparent');
      } else {
        topBar?.classList.remove('scrolled');
        mainNav?.classList.remove('transparent');
      }

      lastScrollY = currentScrollY;
    }

    window.addEventListener('scroll', handleScroll, { passive: true });

    // Mobile Bottom Sheet Menu
    function openMobileMenuV2() {
      mobileMenu?.classList.add('active');
      menuOverlay?.classList.add('active');
      menuOverlay?.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      menuButton?.setAttribute('aria-expanded', 'true');
    }

    function closeMobileMenuV2() {
      mobileMenu?.classList.remove('active');
      menuOverlay?.classList.remove('active');
      setTimeout(() => menuOverlay?.classList.add('hidden'), 300);
      document.body.style.overflow = '';
      menuButton?.setAttribute('aria-expanded', 'false');
    }

    window.closeMobileMenuV2 = closeMobileMenuV2;

    menuButton?.addEventListener('click', openMobileMenuV2);
    menuClose?.addEventListener('click', closeMobileMenuV2);
    menuOverlay?.addEventListener('click', closeMobileMenuV2);

    // Close menu on link click
    document.querySelectorAll('.mobile-sheet-link').forEach(link => {
      link.addEventListener('click', () => {
        setTimeout(closeMobileMenuV2, 200);
      });
    });

    // Swipe down to close (touch gesture)
    let touchStartY = 0;
    mobileMenu?.addEventListener('touchstart', (e) => {
      touchStartY = e.touches[0].clientY;
    });

    mobileMenu?.addEventListener('touchmove', (e) => {
      const touchY = e.touches[0].clientY;
      const diff = touchY - touchStartY;

      if (diff > 50 && touchStartY < 100) {
        closeMobileMenuV2();
      }
    });
  })();
</script>
